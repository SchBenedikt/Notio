"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[468],{17313:(e,t,r)=>{r.d(t,{Xi:()=>d,av:()=>u,j7:()=>o,tU:()=>s});var a=r(95155),n=r(12115),i=r(60704),l=r(59434);let s=i.bL,o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(i.B8,{ref:t,className:(0,l.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...n})});o.displayName=i.B8.displayName;let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(i.l9,{ref:t,className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...n})});d.displayName=i.l9.displayName;let u=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(i.UC,{ref:t,className:(0,l.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...n})});u.displayName=i.UC.displayName},30285:(e,t,r)=>{r.d(t,{$:()=>d,r:()=>o});var a=r(95155),n=r(12115),i=r(66634),l=r(74466),s=r(59434);let o=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,t)=>{let{className:r,variant:n,size:l,asChild:d=!1,...u}=e,c=d?i.DX:"button";return(0,a.jsx)(c,{className:(0,s.cn)(o({variant:n,size:l,className:r})),ref:t,...u})});d.displayName="Button"},56104:(e,t,r)=>{let a,n,i;r.d(t,{Gg:()=>u,db:()=>i,j2:()=>n});var l=r(23915),s=r(93004),o=r(35317);let d={apiKey:"AIzaSyC7L4aJcG5I8pQC4z2mEr4sTq9W1M6mabY",authDomain:"school-d5d37.firebaseapp.com",projectId:"school-d5d37",storageBucket:"school-d5d37.firebasestorage.app",messagingSenderId:"194813242319",appId:"1:194813242319:web:2ccb062a13e6489e0200ba"},u=!!d.apiKey&&!!d.projectId;u?(a=(0,l.Dk)().length?(0,l.Sx)():(0,l.Wp)(d),n=(0,s.xI)(a),i=(0,o.aU)(a)):(console.warn("Firebase configuration is missing or incomplete. Firebase services will be disabled."),a={},n={},i={})},59434:(e,t,r)=>{r.d(t,{_S:()=>d,cd:()=>m,cn:()=>s,eZ:()=>p,j:()=>u,k$:()=>f,y7:()=>c});var a=r(52596),n=r(39688),i=r(35317),l=r(56104);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,a.$)(t))}function o(e){let t={written:{value:0,weight:0},oral:{value:0,weight:0}};for(let r of e){if(null==r.value)continue;let e=r.value*r.weight;"Schulaufgabe"===r.type?(t.written.value+=e,t.written.weight+=r.weight):(t.oral.value+=e,t.oral.weight+=r.weight)}return t}function d(e,t){let r=e.filter(e=>null!=e.value);if(0===r.length)return"-";let a=o(r);if("Hauptfach"===t.category&&null!=t.writtenWeight&&null!=t.oralWeight&&(t.writtenWeight>0||t.oralWeight>0)){let{written:e,oral:r}=a,n=e.weight>0?e.value/e.weight:0,i=r.weight>0?r.value/r.weight:0,l=e.weight>0,s=r.weight>0,o=t.writtenWeight,d=t.oralWeight;if(l&&s){let e=o+d;if(e>0)return((n*o+i*d)/e).toFixed(2)}else if(l)return n.toFixed(2);else if(s)return i.toFixed(2);else return"-"}let n=a.written.value+a.oral.value,i=a.written.weight+a.oral.weight;return 0===i?"-":(n/i).toFixed(2)}function u(e,t,r,a){let n=[];if(e.forEach(e=>{let i=t.filter(t=>t.subjectId===e.id&&null!=t.value);if(i.length>0){let t=d(i,e);if("-"!==t){let i=parseFloat(t.replace(",",".")),l="Hauptfach"===e.category?r:a;l>0&&n.push({average:i,weight:l})}}}),0===n.length)return"-";let i=n.reduce((e,t)=>e+t.average*t.weight,0),l=n.reduce((e,t)=>e+t.weight,0);return 0===l?"-":(i/l).toFixed(2)}function c(e,t){if(0===e.length)return"-";let r=e.map(e=>{let r=t.filter(t=>t.subjectId===e.id&&null!=t.value);if(0===r.length)return null;let a=d(r,e);return"-"!==a?parseFloat(a):null}).filter(e=>null!==e);return 0===r.length?"-":(r.reduce((e,t)=>e+t,0)/r.length).toFixed(2)}function f(e,t,r,a,n){let i;if(a<=0)return null;let l=o(e.filter(e=>null!=e.value));if("Hauptfach"!==t.category||null==t.writtenWeight||null==t.oralWeight){let e=l.written.value+l.oral.value;return(r*(l.written.weight+l.oral.weight+a)-e)/a}let s=t.writtenWeight,d=t.oralWeight;if(s+d<=0)return null;let u=l.written.value,c=l.written.weight,f=l.oral.value,g=l.oral.weight,p=g>0?f/g:0,h=c>0?u/c:0;if("Schulaufgabe"===n){if(s<=0)return p>0?r<=p?1:6:r;i=((g>0?(r*(s+d)-p*d)/s:r)*(c+a)-u)/a}else{if(d<=0)return h>0?r<=h?1:6:r;i=((c>0?(r*(s+d)-h*s)/d:r)*(g+a)-f)/a}return i}function g(e){let t=String(null!=e?e:"");return t.includes('"')||t.includes(",")||t.includes("\n")||t.includes("\r")?'"'.concat(t.replace(/"/g,'""'),'"'):t}function p(e,t){let r=["Fachname","Kategorie","Notentyp","Bezeichnung","Note","Gewichtung","Datum","Notizen"].map(g),a=t.map(t=>{let r=e.find(e=>e.id===t.subjectId);return r?[r.name,r.category,t.type,t.name||"",t.value,t.weight,new Date(t.date).toLocaleDateString("de-DE"),t.notes||""].map(g).join(","):null}).filter(e=>null!==e);return[r.join(","),...a].join("\n")}let h=/(?:,|^)("(?:[^"]|"")*"|[^,]*)/g;async function m(e,t,r,a,n){let s=new Map(t.map(e=>[e.name.toLowerCase(),e])),o=[...t],d=[...r],u=e.split(/\r?\n/).slice(1),c=0,f=0,g=(0,i.wP)(l.db);for(let e of u){if(""===e.trim())continue;let[t,u,p,m,v,b,w,x]=function(e){let t,r=[];for(h.lastIndex=0;t=h.exec(e);){let e=t[1];e.startsWith('"')&&e.endsWith('"')&&(e=e.substring(1,e.length-1).replace(/""/g,'"')),r.push(e)}return r}(e);if(!t||!u||!p||!v||!b||!w){console.warn("Skipping invalid CSV line:",e),f++;continue}let y=parseFloat(v),N=parseFloat(b),j=w.split("."),S=new Date("".concat(j[2],"-").concat(j[1],"-").concat(j[0]));if(isNaN(y)||isNaN(N)||isNaN(S.getTime())){console.warn("Skipping line with invalid data:",e),f++;continue}let I=s.get(t.toLowerCase());if(!I){let e={gradeLevel:a,name:t,category:u},r=(0,i.H9)((0,i.rJ)(l.db,"users",n,"subjects"));g.set(r,e),I={id:r.id,...e},s.set(t.toLowerCase(),I),o.push(I)}let T={subjectId:I.id,type:p,name:m||void 0,value:y,weight:N,date:S.toISOString(),notes:x||void 0};if(r.some(e=>e.subjectId===T.subjectId&&e.value===T.value&&e.weight===T.weight&&new Date(e.date).toDateString()===new Date(T.date).toDateString()&&(e.name||"")===(T.name||"")))f++;else{let e=(0,i.H9)((0,i.rJ)(l.db,"users",n,"grades"));g.set(e,T),d.push({id:e.id,...T}),c++}}return c>0&&await g.commit(),{newSubjects:o,newGrades:d,importedCount:c,skippedCount:f}}},62523:(e,t,r)=>{r.d(t,{p:()=>l});var a=r(95155),n=r(12115),i=r(59434);let l=n.forwardRef((e,t)=>{let{className:r,type:n,...l}=e;return(0,a.jsx)("input",{type:n,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...l})});l.displayName="Input"},66424:(e,t,r)=>{r.d(t,{F:()=>s});var a=r(95155),n=r(12115),i=r(47655),l=r(59434);let s=n.forwardRef((e,t)=>{let{className:r,children:n,...s}=e;return(0,a.jsxs)(i.bL,{ref:t,className:(0,l.cn)("relative overflow-hidden",r),...s,children:[(0,a.jsx)(i.LM,{className:"h-full w-full rounded-[inherit]",children:n}),(0,a.jsx)(o,{}),(0,a.jsx)(i.OK,{})]})});s.displayName=i.bL.displayName;let o=n.forwardRef((e,t)=>{let{className:r,orientation:n="vertical",...s}=e;return(0,a.jsx)(i.VM,{ref:t,orientation:n,className:(0,l.cn)("flex touch-none select-none transition-colors","vertical"===n&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===n&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",r),...s,children:(0,a.jsx)(i.lr,{className:"relative flex-1 rounded-full bg-border"})})});o.displayName=i.VM.displayName},66695:(e,t,r)=>{r.d(t,{BT:()=>d,Wu:()=>u,ZB:()=>o,Zp:()=>l,aR:()=>s,wL:()=>c});var a=r(95155),n=r(12115),i=r(59434);let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("rounded-xl border bg-card text-card-foreground shadow-sm",r),...n})});l.displayName="Card";let s=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",r),...n})});s.displayName="CardHeader";let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("h3",{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",r),...n})});o.displayName="CardTitle";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",r),...n})});d.displayName="CardDescription";let u=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",r),...n})});u.displayName="CardContent";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",r),...n})});c.displayName="CardFooter"},87481:(e,t,r)=>{r.d(t,{dj:()=>f});var a=r(12115);let n=0,i=new Map,l=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),u({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},s=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?l(r):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],d={toasts:[]};function u(e){d=s(d,e),o.forEach(e=>{e(d)})}function c(e){let{...t}=e,r=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>u({type:"DISMISS_TOAST",toastId:r});return u({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||a()}}}),{id:r,dismiss:a,update:e=>u({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function f(){let[e,t]=a.useState(d);return a.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:c,dismiss:e=>u({type:"DISMISS_TOAST",toastId:e})}}}}]);