exports.id=795,exports.ids=[795],exports.modules={4780:(e,t,r)=>{"use strict";r.d(t,{_S:()=>d,cd:()=>g,cn:()=>a,eZ:()=>h,j:()=>u,k$:()=>p,y7:()=>c});var s=r(49384),i=r(82348),n=r(75535),o=r(33784);function a(...e){return(0,i.QP)((0,s.$)(e))}function l(e){let t={written:{value:0,weight:0},oral:{value:0,weight:0}};for(let r of e){if(null==r.value)continue;let e=r.value*r.weight;"Schulaufgabe"===r.type?(t.written.value+=e,t.written.weight+=r.weight):(t.oral.value+=e,t.oral.weight+=r.weight)}return t}function d(e,t){let r=e.filter(e=>null!=e.value);if(0===r.length)return"-";let s=l(r);if("Hauptfach"===t.category&&null!=t.writtenWeight&&null!=t.oralWeight&&(t.writtenWeight>0||t.oralWeight>0)){let{written:e,oral:r}=s,i=e.weight>0?e.value/e.weight:0,n=r.weight>0?r.value/r.weight:0,o=e.weight>0,a=r.weight>0,l=t.writtenWeight,d=t.oralWeight;if(o&&a){let e=l+d;if(e>0)return((i*l+n*d)/e).toFixed(2)}else if(o)return i.toFixed(2);else if(a)return n.toFixed(2);else return"-"}let i=s.written.value+s.oral.value,n=s.written.weight+s.oral.weight;return 0===n?"-":(i/n).toFixed(2)}function u(e,t,r,s){let i=[];if(e.forEach(e=>{let n=t.filter(t=>t.subjectId===e.id&&null!=t.value);if(n.length>0){let t=d(n,e);if("-"!==t){let n=parseFloat(t.replace(",",".")),o="Hauptfach"===e.category?r:s;o>0&&i.push({average:n,weight:o})}}}),0===i.length)return"-";let n=i.reduce((e,t)=>e+t.average*t.weight,0),o=i.reduce((e,t)=>e+t.weight,0);return 0===o?"-":(n/o).toFixed(2)}function c(e,t){if(0===e.length)return"-";let r=e.map(e=>{let r=t.filter(t=>t.subjectId===e.id&&null!=t.value);if(0===r.length)return null;let s=d(r,e);return"-"!==s?parseFloat(s):null}).filter(e=>null!==e);return 0===r.length?"-":(r.reduce((e,t)=>e+t,0)/r.length).toFixed(2)}function p(e,t,r,s,i){let n;if(s<=0)return null;let o=l(e.filter(e=>null!=e.value));if("Hauptfach"!==t.category||null==t.writtenWeight||null==t.oralWeight){let e=o.written.value+o.oral.value;return(r*(o.written.weight+o.oral.weight+s)-e)/s}let a=t.writtenWeight,d=t.oralWeight;if(a+d<=0)return null;let u=o.written.value,c=o.written.weight,p=o.oral.value,f=o.oral.weight,h=f>0?p/f:0,m=c>0?u/c:0;if("Schulaufgabe"===i){if(a<=0)return h>0?r<=h?1:6:r;n=((f>0?(r*(a+d)-h*d)/a:r)*(c+s)-u)/s}else{if(d<=0)return m>0?r<=m?1:6:r;n=((c>0?(r*(a+d)-m*a)/d:r)*(f+s)-p)/s}return n}function f(e){let t=String(e??"");return t.includes('"')||t.includes(",")||t.includes("\n")||t.includes("\r")?`"${t.replace(/"/g,'""')}"`:t}function h(e,t){let r=["Fachname","Kategorie","Notentyp","Bezeichnung","Note","Gewichtung","Datum","Notizen"].map(f),s=t.map(t=>{let r=e.find(e=>e.id===t.subjectId);return r?[r.name,r.category,t.type,t.name||"",t.value,t.weight,new Date(t.date).toLocaleDateString("de-DE"),t.notes||""].map(f).join(","):null}).filter(e=>null!==e);return[r.join(","),...s].join("\n")}let m=/(?:,|^)("(?:[^"]|"")*"|[^,]*)/g;async function g(e,t,r,s,i){let a=new Map(t.map(e=>[e.name.toLowerCase(),e])),l=[...t],d=[...r],u=e.split(/\r?\n/).slice(1),c=0,p=0,f=(0,n.wP)(o.db);for(let e of u){if(""===e.trim())continue;let[t,u,h,g,v,b,x,w]=function(e){let t,r=[];for(m.lastIndex=0;t=m.exec(e);){let e=t[1];e.startsWith('"')&&e.endsWith('"')&&(e=e.substring(1,e.length-1).replace(/""/g,'"')),r.push(e)}return r}(e);if(!t||!u||!h||!v||!b||!x){console.warn("Skipping invalid CSV line:",e),p++;continue}let y=parseFloat(v),j=parseFloat(b),N=x.split("."),S=new Date(`${N[2]}-${N[1]}-${N[0]}`);if(isNaN(y)||isNaN(j)||isNaN(S.getTime())){console.warn("Skipping line with invalid data:",e),p++;continue}let I=a.get(t.toLowerCase());if(!I){let e={gradeLevel:s,name:t,category:u},r=(0,n.H9)((0,n.rJ)(o.db,"users",i,"subjects"));f.set(r,e),I={id:r.id,...e},a.set(t.toLowerCase(),I),l.push(I)}let P={subjectId:I.id,type:h,name:g||void 0,value:y,weight:j,date:S.toISOString(),notes:w||void 0};if(r.some(e=>e.subjectId===P.subjectId&&e.value===P.value&&e.weight===P.weight&&new Date(e.date).toDateString()===new Date(P.date).toDateString()&&(e.name||"")===(P.name||"")))p++;else{let e=(0,n.H9)((0,n.rJ)(o.db,"users",i,"grades"));f.set(e,P),d.push({id:e.id,...P}),c++}}return c>0&&await f.commit(),{newSubjects:l,newGrades:d,importedCount:c,skippedCount:p}}},8835:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>l,c:()=>a});var s=r(60687),i=r(43210);r(57782);var n=r(33784),o=r(85726);let a=(0,i.createContext)({user:null,loading:!0,isFirebaseEnabled:n.Gg,firebaseError:null});function l({children:e}){let[t,r]=(0,i.useState)(null),[l,d]=(0,i.useState)(!0),[u,c]=(0,i.useState)(null),p=n.Gg&&!u;return l?(0,s.jsxs)("div",{className:"flex flex-col min-h-screen bg-muted/40",children:[(0,s.jsx)("header",{className:"sticky top-0 z-30 w-full bg-background/80 backdrop-blur-sm border-b",children:(0,s.jsxs)("div",{className:"container mx-auto flex h-20 items-center justify-between px-4 md:px-6 lg:px-8",children:[(0,s.jsx)(o.E,{className:"h-8 w-32"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(o.E,{className:"h-10 w-24"}),(0,s.jsx)(o.E,{className:"h-10 w-10 rounded-full"})]})]})}),(0,s.jsx)("main",{className:"flex-1 container mx-auto p-4 md:p-6 lg:p-8",children:(0,s.jsx)(o.E,{className:"h-full w-full rounded-lg"})})]}):(0,s.jsx)(a.Provider,{value:{user:t,loading:l,isFirebaseEnabled:p,firebaseError:u},children:e})}},14947:(e,t,r)=>{"use strict";r.d(t,{Toaster:()=>v});var s=r(60687),i=r(29867),n=r(43210),o=r(47313),a=r(24224),l=r(78726),d=r(4780);let u=o.Kq,c=n.forwardRef(({className:e,...t},r)=>(0,s.jsx)(o.LM,{ref:r,className:(0,d.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));c.displayName=o.LM.displayName;let p=(0,a.F)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),f=n.forwardRef(({className:e,variant:t,...r},i)=>(0,s.jsx)(o.bL,{ref:i,className:(0,d.cn)(p({variant:t}),e),...r}));f.displayName=o.bL.displayName,n.forwardRef(({className:e,...t},r)=>(0,s.jsx)(o.rc,{ref:r,className:(0,d.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t})).displayName=o.rc.displayName;let h=n.forwardRef(({className:e,...t},r)=>(0,s.jsx)(o.bm,{ref:r,className:(0,d.cn)("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:(0,s.jsx)(l.A,{className:"h-4 w-4"})}));h.displayName=o.bm.displayName;let m=n.forwardRef(({className:e,...t},r)=>(0,s.jsx)(o.hE,{ref:r,className:(0,d.cn)("text-sm font-semibold",e),...t}));m.displayName=o.hE.displayName;let g=n.forwardRef(({className:e,...t},r)=>(0,s.jsx)(o.VY,{ref:r,className:(0,d.cn)("text-sm opacity-90",e),...t}));function v(){let{toasts:e}=(0,i.dj)();return(0,s.jsxs)(u,{children:[e.map(function({id:e,title:t,description:r,action:i,...n}){return(0,s.jsxs)(f,{...n,children:[(0,s.jsxs)("div",{className:"grid gap-1",children:[t&&(0,s.jsx)(m,{children:t}),r&&(0,s.jsx)(g,{children:r})]}),i,(0,s.jsx)(h,{})]},e)}),(0,s.jsx)(c,{})]})}g.displayName=o.VY.displayName},18864:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,86346,23)),Promise.resolve().then(r.t.bind(r,27924,23)),Promise.resolve().then(r.t.bind(r,35656,23)),Promise.resolve().then(r.t.bind(r,40099,23)),Promise.resolve().then(r.t.bind(r,38243,23)),Promise.resolve().then(r.t.bind(r,28827,23)),Promise.resolve().then(r.t.bind(r,62763,23)),Promise.resolve().then(r.t.bind(r,97173,23))},29867:(e,t,r)=>{"use strict";r.d(t,{dj:()=>p});var s=r(43210);let i=0,n=new Map,o=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),u({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},a=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?o(r):e.toasts.forEach(e=>{o(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],d={toasts:[]};function u(e){d=a(d,e),l.forEach(e=>{e(d)})}function c({...e}){let t=(i=(i+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>u({type:"DISMISS_TOAST",toastId:t});return u({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||r()}}}),{id:t,dismiss:r,update:e=>u({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function p(){let[e,t]=s.useState(d);return s.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:c,dismiss:e=>u({type:"DISMISS_TOAST",toastId:e})}}},33784:(e,t,r)=>{"use strict";let s,i,n;r.d(t,{Gg:()=>u,db:()=>n,j2:()=>i});var o=r(67989),a=r(57782),l=r(75535);let d={apiKey:"AIzaSyC7L4aJcG5I8pQC4z2mEr4sTq9W1M6mabY",authDomain:"school-d5d37.firebaseapp.com",projectId:"school-d5d37",storageBucket:"school-d5d37.firebasestorage.app",messagingSenderId:"194813242319",appId:"1:194813242319:web:2ccb062a13e6489e0200ba"},u=!!d.apiKey&&!!d.projectId;u?(s=(0,o.Dk)().length?(0,o.Sx)():(0,o.Wp)(d),i=(0,a.xI)(s),n=(0,l.aU)(s)):(console.warn("Firebase configuration is missing or incomplete. Firebase services will be disabled."),s={},i={},n={})},35868:(e,t,r)=>{Promise.resolve().then(r.bind(r,79737)),Promise.resolve().then(r.bind(r,70541))},48729:(e,t,r)=>{"use strict";let s;r.r(t),r.d(t,{default:()=>g,metadata:()=>m});var i=r(37413),n=r(67252),o=r.n(n);r(61135);var a=r(79737),l=r(75986),d=r(8974),u=r(34717),c=r(89579),p=r(45559);let f={apiKey:"AIzaSyC7L4aJcG5I8pQC4z2mEr4sTq9W1M6mabY",authDomain:"school-d5d37.firebaseapp.com",projectId:"school-d5d37",storageBucket:"school-d5d37.firebasestorage.app",messagingSenderId:"194813242319",appId:"1:194813242319:web:2ccb062a13e6489e0200ba"};f.apiKey&&f.projectId?(s=(0,c.Dk)().length?(0,c.Sx)():(0,c.Wp)(f),(0,p.xI)(s),(0,u.aU)(s)):(console.warn("Firebase configuration is missing or incomplete. Firebase services will be disabled."),s={});var h=r(70541);let m={title:"Notio",description:"Dein intelligenter Begleiter f\xfcr bessere Noten und Lernerfolg."};function g({children:e}){return(0,i.jsxs)("html",{lang:"de",suppressHydrationWarning:!0,children:[(0,i.jsxs)("head",{children:[(0,i.jsx)("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),(0,i.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),(0,i.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap",rel:"stylesheet"})]}),(0,i.jsx)("body",{className:function(...e){return(0,d.QP)((0,l.$)(e))}("font-body antialiased",o().variable),children:(0,i.jsxs)(h.AuthProvider,{children:[e,(0,i.jsx)(a.Toaster,{})]})})]})}},60720:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,16444,23)),Promise.resolve().then(r.t.bind(r,16042,23)),Promise.resolve().then(r.t.bind(r,88170,23)),Promise.resolve().then(r.t.bind(r,49477,23)),Promise.resolve().then(r.t.bind(r,29345,23)),Promise.resolve().then(r.t.bind(r,12089,23)),Promise.resolve().then(r.t.bind(r,46577,23)),Promise.resolve().then(r.t.bind(r,31307,23))},61135:()=>{},70541:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>i});var s=r(12907);(0,s.registerClientReference)(function(){throw Error("Attempted to call AuthContext() from the server but AuthContext is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/context/auth-provider.tsx","AuthContext");let i=(0,s.registerClientReference)(function(){throw Error("Attempted to call AuthProvider() from the server but AuthProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/context/auth-provider.tsx","AuthProvider")},79737:(e,t,r)=>{"use strict";r.d(t,{Toaster:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call Toaster() from the server but Toaster is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/components/ui/toaster.tsx","Toaster")},85726:(e,t,r)=>{"use strict";r.d(t,{E:()=>n});var s=r(60687),i=r(4780);function n({className:e,...t}){return(0,s.jsx)("div",{className:(0,i.cn)("animate-pulse rounded-md bg-muted",e),...t})}},94012:(e,t,r)=>{Promise.resolve().then(r.bind(r,14947)),Promise.resolve().then(r.bind(r,8835))}};